<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OverlayGPX - Version Web</title>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha512-1Agiqk5d+GqORdzdrIW6DCe4kYvNysGEKMluSleqU9jwELyhl725LLhcCq114F8CbnMD4HzyBbs6k8lwT7YAOQ=="
    crossorigin=""
  />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <div>
      <h1>OverlayGPX</h1>
      <p>Lecture GPX, animation cartographique et export vidéo directement dans le navigateur.</p>
    </div>
    <div class="controls primary-controls">
      <label class="file-input" id="fileInputLabel">
        <span class="file-input__text">Charger un fichier GPX</span>
        <input type="file" id="gpxFile" accept=".gpx" />
      </label>
      <label>
        Durée du clip (s)
        <input type="number" id="clipDuration" value="20" min="5" max="180" />
      </label>
      <label>
        Lissage graphes (s)
        <input type="number" id="smoothing" value="20" min="0" max="120" step="1" />
      </label>
      <label>
        Tiles
        <select id="tileSelect"></select>
      </label>
      <button id="playBtn" disabled>Démarrer</button>
      <button id="resetBtn" disabled>Réinitialiser</button>
      <button id="recordBtn" disabled>Exporter en WebM</button>
    </div>
  </header>

  <main id="renderArea">
    <section id="mapSection">
      <div id="map"></div>
      <div id="compass">N</div>
    </section>
    <section id="infoSection">
      <div class="stat-grid">
        <div><span class="label">Vitesse</span><span id="speedValue">0 km/h</span></div>
        <div><span class="label">Altitude</span><span id="altitudeValue">0 m</span></div>
        <div><span class="label">Distance</span><span id="distanceValue">0 km</span></div>
        <div><span class="label">Heure</span><span id="timeValue">--:--:--</span></div>
        <div><span class="label">Pente</span><span id="gradeValue">0 %</span></div>
        <div><span class="label">Allure</span><span id="paceValue">--</span></div>
        <div><span class="label">Fréquence cardiaque</span><span id="hrValue">-- bpm</span></div>
      </div>
      <div class="gauge" aria-label="Jauge de vitesse">
        <div id="gaugeFill"></div>
        <span id="gaugeLabel">0 km/h</span>
      </div>
      <div class="charts">
        <canvas id="altitudeChart"></canvas>
        <canvas id="speedChart"></canvas>
        <canvas id="paceChart"></canvas>
        <canvas id="hrChart"></canvas>
      </div>
    </section>
  </main>

  <section class="controls secondary-controls">
    <label>
      Auto-zoom carte
      <input type="checkbox" id="autoZoom" checked />
    </label>
    <label>
      Afficher tracé complet
      <input type="checkbox" id="fullPath" checked />
    </label>
    <label>
      Afficher graphes
      <input type="checkbox" id="chartsToggle" checked />
    </label>
  </section>

  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha512-ZrDgCg2jZEcD3xKhsR4HIXkD+L9en5ZaY1f3T5iAG2wE8xmPKzW0fvkYl9wH14r2raXIiQun7qY5XgLrjPMTZA=="
    crossorigin=""
  ></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
